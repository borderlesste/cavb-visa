const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BN6Cjedc.js","assets/index-rdfgdSUU.css"])))=>i.map(i=>d[i]);
import{u as w,r as h,j as e,f as $,_ as z,h as x,I as Q,X as Z,C as F,c as V,e as H,D as T,a as ee,U,A as re,d as f,V as te,m as se,g as q}from"./index-BN6Cjedc.js";import{P as ae,D as ie}from"./PDFExportModal-BWt_yUQB.js";const he=()=>{const{t:r,addNotification:t}=w(),[i,o]=h.useState(new Date),[a,n]=h.useState([]),[l,b]=h.useState(null),[j,m]=h.useState(!1),[u,W]=h.useState("calendar"),y=s=>{const _=s.getFullYear(),p=s.getMonth(),M=new Date(_,p,1),P=new Date(_,p+1,0),X=M.getDay(),S=[];for(let k=X-1;k>=0;k--){const v=new Date(_,p,-k);S.push({date:v,isCurrentMonth:!1,appointments:a.filter(E=>new Date(E.date).toDateString()===v.toDateString())})}for(let k=1;k<=P.getDate();k++){const v=new Date(_,p,k);S.push({date:v,isCurrentMonth:!0,appointments:a.filter(E=>new Date(E.date).toDateString()===v.toDateString())})}const Y=42-S.length;for(let k=1;k<=Y;k++){const v=new Date(_,p+1,k);S.push({date:v,isCurrentMonth:!1,appointments:a.filter(E=>new Date(E.date).toDateString()===v.toDateString())})}return S},g=async()=>{m(!0);try{const{api:s}=await z(async()=>{const{api:M}=await import("./index-BN6Cjedc.js").then(P=>P.y);return{api:M}},__vite__mapDeps([0,1])),_=i.toISOString().split("T")[0],p=await s.getAppointments(_);n(p)}catch{t(r("failedToLoadAppointments"),"error")}finally{m(!1)}};h.useEffect(()=>{g()},[i]);const d=s=>{o(_=>{const p=new Date(_);return s==="prev"?p.setMonth(p.getMonth()-1):p.setMonth(p.getMonth()+1),p})},B=s=>{switch(s){case x.CONFIRMED:return"bg-green-100 text-green-800 border-green-300";case x.BOOKED:return"bg-blue-100 text-blue-800 border-blue-300";case x.COMPLETED:return"bg-gray-100 text-gray-800 border-gray-300";case x.CANCELLED:return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},N=s=>{switch(s){case x.CONFIRMED:return e.jsx(F,{className:"w-4 h-4"});case x.BOOKED:return e.jsx(V,{className:"w-4 h-4"});case x.COMPLETED:return e.jsx(F,{className:"w-4 h-4"});case x.CANCELLED:return e.jsx(Z,{className:"w-4 h-4"});default:return e.jsx(Q,{className:"w-4 h-4"})}},c=async(s,_,p)=>{try{t(r("appointmentRescheduled"),"success"),g()}catch{t(r("failedToReschedule"),"error")}},C=async s=>{if(confirm(r("confirmCancelAppointment")))try{t(r("appointmentCancelled"),"success"),g()}catch{t(r("failedToCancelAppointment"),"error")}},A=y(i),D=l?a.filter(s=>new Date(s.date).toDateString()===l.toDateString()):[],I=[r("january"),r("february"),r("march"),r("april"),r("may"),r("june"),r("july"),r("august"),r("september"),r("october"),r("november"),r("december")],L=[r("sunday"),r("monday"),r("tuesday"),r("wednesday"),r("thursday"),r("friday"),r("saturday")];return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-iom-blue mb-4 sm:mb-0 flex items-center",children:[e.jsx($,{className:"w-6 h-6 mr-2"}),r("appointmentManagement")]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>W("calendar"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u==="calendar"?"bg-white text-iom-blue shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:r("calendar")}),e.jsx("button",{onClick:()=>W("list"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u==="list"?"bg-white text-iom-blue shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:r("list")})]})})]}),u==="calendar"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>d("prev"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:r("previousMonth"),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[I[i.getMonth()]," ",i.getFullYear()]}),e.jsx("button",{onClick:()=>d("next"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:r("nextMonth"),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[L.map(s=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500 uppercase",children:s.substring(0,3)},s)),A.map((s,_)=>e.jsxs("div",{onClick:()=>b(s.date),className:`
                                    min-h-[80px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors
                                    ${s.isCurrentMonth?"bg-white":"bg-gray-50 text-gray-400"}
                                    ${(l==null?void 0:l.toDateString())===s.date.toDateString()?"bg-blue-50 border-blue-300":""}
                                `,children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:s.date.getDate()}),s.appointments.slice(0,3).map(p=>e.jsx("div",{className:`text-xs p-1 mb-1 rounded border ${B(p.status)}`,title:`${p.applicantName} - ${p.time}`,children:e.jsxs("div",{className:"flex items-center",children:[N(p.status),e.jsxs("span",{className:"ml-1 truncate",children:[p.time," ",p.applicantName.split(" ")[0]]})]})},p.id)),s.appointments.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",s.appointments.length-3," ",r("more")]})]},_))]}),l&&D.length>0&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4",children:[r("appointmentsFor")," ",l.toLocaleDateString()]}),e.jsx("div",{className:"space-y-3",children:D.map(s=>e.jsx(J,{appointment:s,onReschedule:c,onCancel:C},s.id))})]})]}):e.jsx("div",{className:"space-y-4",children:j?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-iom-blue"})}):a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx($,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:r("noAppointmentsScheduled")})]}):e.jsx("div",{className:"space-y-3",children:a.sort((s,_)=>new Date(s.date+" "+s.time).getTime()-new Date(_.date+" "+_.time).getTime()).map(s=>e.jsx(J,{appointment:s,onReschedule:c,onCancel:C,showDate:!0},s.id))})})]})},J=({appointment:r,onReschedule:t,onCancel:i,showDate:o=!1})=>{const{t:a}=w(),[n,l]=h.useState(!1),[b,j]=h.useState(r.date),[m,u]=h.useState(r.time),W=g=>{switch(g){case x.CONFIRMED:return"border-l-green-500 bg-green-50";case x.BOOKED:return"border-l-blue-500 bg-blue-50";case x.COMPLETED:return"border-l-gray-500 bg-gray-50";case x.CANCELLED:return"border-l-red-500 bg-red-50";default:return"border-l-gray-500 bg-gray-50"}},y=()=>{t(r.id,b,m),l(!1)};return e.jsxs("div",{className:`border-l-4 p-4 rounded-r-lg ${W(r.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:r.applicantName}),e.jsx("span",{className:"px-2 py-1 bg-white rounded text-xs font-medium",children:a(r.visaType)}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.status===x.CONFIRMED?"bg-green-100 text-green-800":r.status===x.BOOKED?"bg-blue-100 text-blue-800":r.status===x.COMPLETED?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:a(r.status)})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-1"}),o&&e.jsxs("span",{children:[new Date(r.date).toLocaleDateString()," - "]}),e.jsx("span",{children:r.time})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:r.applicantEmail})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:r.status!==x.COMPLETED&&r.status!==x.CANCELLED&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(!n),className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200 transition-colors",children:a("reschedule")}),e.jsx("button",{onClick:()=>i(r.id),className:"px-3 py-1 bg-red-100 text-red-800 rounded-md text-sm font-medium hover:bg-red-200 transition-colors",children:a("cancel")})]})})]}),n&&e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-md border",children:[e.jsx("h5",{className:"font-medium mb-3",children:a("rescheduleAppointment")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("newDate")}),e.jsx("input",{type:"date",value:b,onChange:g=>j(g.target.value),min:new Date().toISOString().split("T")[0],className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-iom-blue focus:border-transparent",placeholder:a("selectDate"),title:a("selectNewDate")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("newTime")}),e.jsxs("select",{value:m,onChange:g=>u(g.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-iom-blue focus:border-transparent","aria-label":a("newTime"),title:a("newTime"),children:[e.jsx("option",{value:"09:00",children:"09:00 AM"}),e.jsx("option",{value:"10:00",children:"10:00 AM"}),e.jsx("option",{value:"11:00",children:"11:00 AM"}),e.jsx("option",{value:"14:00",children:"02:00 PM"}),e.jsx("option",{value:"15:00",children:"03:00 PM"}),e.jsx("option",{value:"16:00",children:"04:00 PM"})]})]}),e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("button",{onClick:y,className:"px-4 py-2 bg-iom-blue text-white rounded-md text-sm font-medium hover:bg-iom-blue/90 transition-colors",children:a("confirm")}),e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-400 transition-colors",children:a("cancel")})]})]})]})]})},oe="_progressBarWidth0_9bkqp_2",ce="_progressBarWidth1_9bkqp_3",ne="_progressBarWidth2_9bkqp_4",de="_progressBarWidth3_9bkqp_5",le="_progressBarWidth4_9bkqp_6",pe="_progressBarWidth5_9bkqp_7",ge="_progressBarWidth6_9bkqp_8",be="_progressBarWidth7_9bkqp_9",me="_progressBarWidth8_9bkqp_10",xe="_progressBarWidth9_9bkqp_11",_e="_progressBarWidth10_9bkqp_12",ue="_progressBarWidth11_9bkqp_13",Be="_progressBarWidth12_9bkqp_14",We="_progressBarWidth13_9bkqp_15",je="_progressBarWidth14_9bkqp_16",ye="_progressBarWidth15_9bkqp_17",ke="_progressBarWidth16_9bkqp_18",fe="_progressBarWidth17_9bkqp_19",Ne="_progressBarWidth18_9bkqp_20",ve="_progressBarWidth19_9bkqp_21",qe="_progressBarWidth20_9bkqp_22",we="_progressBarWidth21_9bkqp_23",De="_progressBarWidth22_9bkqp_24",Ce="_progressBarWidth23_9bkqp_25",Se="_progressBarWidth24_9bkqp_26",Ee="_progressBarWidth25_9bkqp_27",Ae="_progressBarWidth26_9bkqp_28",Me="_progressBarWidth27_9bkqp_29",Te="_progressBarWidth28_9bkqp_30",Re="_progressBarWidth29_9bkqp_31",Oe="_progressBarWidth30_9bkqp_32",Ie="_progressBarWidth31_9bkqp_33",Le="_progressBarWidth32_9bkqp_34",Pe="_progressBarWidth33_9bkqp_35",$e="_progressBarWidth34_9bkqp_36",Fe="_progressBarWidth35_9bkqp_37",Ve="_progressBarWidth36_9bkqp_38",Ue="_progressBarWidth37_9bkqp_39",Je="_progressBarWidth38_9bkqp_40",ze="_progressBarWidth39_9bkqp_41",He="_progressBarWidth40_9bkqp_42",Ke="_progressBarWidth41_9bkqp_43",Ge="_progressBarWidth42_9bkqp_44",Xe="_progressBarWidth43_9bkqp_45",Ye="_progressBarWidth44_9bkqp_46",Qe="_progressBarWidth45_9bkqp_47",Ze="_progressBarWidth46_9bkqp_48",er="_progressBarWidth47_9bkqp_49",rr="_progressBarWidth48_9bkqp_50",tr="_progressBarWidth49_9bkqp_51",sr="_progressBarWidth50_9bkqp_52",ar="_progressBarWidth51_9bkqp_53",ir="_progressBarWidth52_9bkqp_54",hr="_progressBarWidth53_9bkqp_55",or="_progressBarWidth54_9bkqp_56",cr="_progressBarWidth55_9bkqp_57",nr="_progressBarWidth56_9bkqp_58",dr="_progressBarWidth57_9bkqp_59",lr="_progressBarWidth58_9bkqp_60",pr="_progressBarWidth59_9bkqp_61",gr="_progressBarWidth60_9bkqp_62",br="_progressBarWidth61_9bkqp_63",mr="_progressBarWidth62_9bkqp_64",xr="_progressBarWidth63_9bkqp_65",_r="_progressBarWidth64_9bkqp_66",ur="_progressBarWidth65_9bkqp_67",Br="_progressBarWidth66_9bkqp_68",Wr="_progressBarWidth67_9bkqp_69",jr="_progressBarWidth68_9bkqp_70",yr="_progressBarWidth69_9bkqp_71",kr="_progressBarWidth70_9bkqp_72",fr="_progressBarWidth71_9bkqp_73",Nr="_progressBarWidth72_9bkqp_74",vr="_progressBarWidth73_9bkqp_75",qr="_progressBarWidth74_9bkqp_76",wr="_progressBarWidth75_9bkqp_77",Dr="_progressBarWidth76_9bkqp_78",Cr="_progressBarWidth77_9bkqp_79",Sr="_progressBarWidth78_9bkqp_80",Er="_progressBarWidth79_9bkqp_81",Ar="_progressBarWidth80_9bkqp_82",Mr="_progressBarWidth81_9bkqp_83",Tr="_progressBarWidth82_9bkqp_84",Rr="_progressBarWidth83_9bkqp_85",Or="_progressBarWidth84_9bkqp_86",Ir="_progressBarWidth85_9bkqp_87",Lr="_progressBarWidth86_9bkqp_88",Pr="_progressBarWidth87_9bkqp_89",$r="_progressBarWidth88_9bkqp_90",Fr="_progressBarWidth89_9bkqp_91",Vr="_progressBarWidth90_9bkqp_92",Ur="_progressBarWidth91_9bkqp_93",Jr="_progressBarWidth92_9bkqp_94",zr="_progressBarWidth93_9bkqp_95",Hr="_progressBarWidth94_9bkqp_96",Kr="_progressBarWidth95_9bkqp_97",Gr="_progressBarWidth96_9bkqp_98",Xr="_progressBarWidth97_9bkqp_99",Yr="_progressBarWidth98_9bkqp_100",Qr="_progressBarWidth99_9bkqp_101",Zr="_progressBarWidth100_9bkqp_102",K={progressBarWidth0:oe,progressBarWidth1:ce,progressBarWidth2:ne,progressBarWidth3:de,progressBarWidth4:le,progressBarWidth5:pe,progressBarWidth6:ge,progressBarWidth7:be,progressBarWidth8:me,progressBarWidth9:xe,progressBarWidth10:_e,progressBarWidth11:ue,progressBarWidth12:Be,progressBarWidth13:We,progressBarWidth14:je,progressBarWidth15:ye,progressBarWidth16:ke,progressBarWidth17:fe,progressBarWidth18:Ne,progressBarWidth19:ve,progressBarWidth20:qe,progressBarWidth21:we,progressBarWidth22:De,progressBarWidth23:Ce,progressBarWidth24:Se,progressBarWidth25:Ee,progressBarWidth26:Ae,progressBarWidth27:Me,progressBarWidth28:Te,progressBarWidth29:Re,progressBarWidth30:Oe,progressBarWidth31:Ie,progressBarWidth32:Le,progressBarWidth33:Pe,progressBarWidth34:$e,progressBarWidth35:Fe,progressBarWidth36:Ve,progressBarWidth37:Ue,progressBarWidth38:Je,progressBarWidth39:ze,progressBarWidth40:He,progressBarWidth41:Ke,progressBarWidth42:Ge,progressBarWidth43:Xe,progressBarWidth44:Ye,progressBarWidth45:Qe,progressBarWidth46:Ze,progressBarWidth47:er,progressBarWidth48:rr,progressBarWidth49:tr,progressBarWidth50:sr,progressBarWidth51:ar,progressBarWidth52:ir,progressBarWidth53:hr,progressBarWidth54:or,progressBarWidth55:cr,progressBarWidth56:nr,progressBarWidth57:dr,progressBarWidth58:lr,progressBarWidth59:pr,progressBarWidth60:gr,progressBarWidth61:br,progressBarWidth62:mr,progressBarWidth63:xr,progressBarWidth64:_r,progressBarWidth65:ur,progressBarWidth66:Br,progressBarWidth67:Wr,progressBarWidth68:jr,progressBarWidth69:yr,progressBarWidth70:kr,progressBarWidth71:fr,progressBarWidth72:Nr,progressBarWidth73:vr,progressBarWidth74:qr,progressBarWidth75:wr,progressBarWidth76:Dr,progressBarWidth77:Cr,progressBarWidth78:Sr,progressBarWidth79:Er,progressBarWidth80:Ar,progressBarWidth81:Mr,progressBarWidth82:Tr,progressBarWidth83:Rr,progressBarWidth84:Or,progressBarWidth85:Ir,progressBarWidth86:Lr,progressBarWidth87:Pr,progressBarWidth88:$r,progressBarWidth89:Fr,progressBarWidth90:Vr,progressBarWidth91:Ur,progressBarWidth92:Jr,progressBarWidth93:zr,progressBarWidth94:Hr,progressBarWidth95:Kr,progressBarWidth96:Gr,progressBarWidth97:Xr,progressBarWidth98:Yr,progressBarWidth99:Qr,progressBarWidth100:Zr,"chart-bar-height-0":"_chart-bar-height-0_9bkqp_105","chart-bar-height-1":"_chart-bar-height-1_9bkqp_106","chart-bar-height-2":"_chart-bar-height-2_9bkqp_107","chart-bar-height-3":"_chart-bar-height-3_9bkqp_108","chart-bar-height-4":"_chart-bar-height-4_9bkqp_109","chart-bar-height-5":"_chart-bar-height-5_9bkqp_110","chart-bar-height-6":"_chart-bar-height-6_9bkqp_111","chart-bar-height-7":"_chart-bar-height-7_9bkqp_112","chart-bar-height-8":"_chart-bar-height-8_9bkqp_113","chart-bar-height-9":"_chart-bar-height-9_9bkqp_114","chart-bar-height-10":"_chart-bar-height-10_9bkqp_115","chart-bar-height-11":"_chart-bar-height-11_9bkqp_116","chart-bar-height-12":"_chart-bar-height-12_9bkqp_117","chart-bar-height-13":"_chart-bar-height-13_9bkqp_118","chart-bar-height-14":"_chart-bar-height-14_9bkqp_119","chart-bar-height-15":"_chart-bar-height-15_9bkqp_120","chart-bar-height-16":"_chart-bar-height-16_9bkqp_121","chart-bar-height-17":"_chart-bar-height-17_9bkqp_122","chart-bar-height-18":"_chart-bar-height-18_9bkqp_123","chart-bar-height-19":"_chart-bar-height-19_9bkqp_124","chart-bar-height-20":"_chart-bar-height-20_9bkqp_125","chart-bar-height-21":"_chart-bar-height-21_9bkqp_126","chart-bar-height-22":"_chart-bar-height-22_9bkqp_127","chart-bar-height-23":"_chart-bar-height-23_9bkqp_128","chart-bar-height-24":"_chart-bar-height-24_9bkqp_129","chart-bar-height-25":"_chart-bar-height-25_9bkqp_130","chart-bar-height-26":"_chart-bar-height-26_9bkqp_131","chart-bar-height-27":"_chart-bar-height-27_9bkqp_132","chart-bar-height-28":"_chart-bar-height-28_9bkqp_133","chart-bar-height-29":"_chart-bar-height-29_9bkqp_134","chart-bar-height-30":"_chart-bar-height-30_9bkqp_135","chart-bar-height-31":"_chart-bar-height-31_9bkqp_136","chart-bar-height-32":"_chart-bar-height-32_9bkqp_137","chart-bar-height-33":"_chart-bar-height-33_9bkqp_138","chart-bar-height-34":"_chart-bar-height-34_9bkqp_139","chart-bar-height-35":"_chart-bar-height-35_9bkqp_140","chart-bar-height-36":"_chart-bar-height-36_9bkqp_141","chart-bar-height-37":"_chart-bar-height-37_9bkqp_142","chart-bar-height-38":"_chart-bar-height-38_9bkqp_143","chart-bar-height-39":"_chart-bar-height-39_9bkqp_144","chart-bar-height-40":"_chart-bar-height-40_9bkqp_145","chart-bar-height-41":"_chart-bar-height-41_9bkqp_146","chart-bar-height-42":"_chart-bar-height-42_9bkqp_147","chart-bar-height-43":"_chart-bar-height-43_9bkqp_148","chart-bar-height-44":"_chart-bar-height-44_9bkqp_149","chart-bar-height-45":"_chart-bar-height-45_9bkqp_150","chart-bar-height-46":"_chart-bar-height-46_9bkqp_151","chart-bar-height-47":"_chart-bar-height-47_9bkqp_152","chart-bar-height-48":"_chart-bar-height-48_9bkqp_153","chart-bar-height-49":"_chart-bar-height-49_9bkqp_154","chart-bar-height-50":"_chart-bar-height-50_9bkqp_155","chart-bar-height-51":"_chart-bar-height-51_9bkqp_156","chart-bar-height-52":"_chart-bar-height-52_9bkqp_157","chart-bar-height-53":"_chart-bar-height-53_9bkqp_158","chart-bar-height-54":"_chart-bar-height-54_9bkqp_159","chart-bar-height-55":"_chart-bar-height-55_9bkqp_160","chart-bar-height-56":"_chart-bar-height-56_9bkqp_161","chart-bar-height-57":"_chart-bar-height-57_9bkqp_162","chart-bar-height-58":"_chart-bar-height-58_9bkqp_163","chart-bar-height-59":"_chart-bar-height-59_9bkqp_164","chart-bar-height-60":"_chart-bar-height-60_9bkqp_165","chart-bar-height-61":"_chart-bar-height-61_9bkqp_166","chart-bar-height-62":"_chart-bar-height-62_9bkqp_167","chart-bar-height-63":"_chart-bar-height-63_9bkqp_168","chart-bar-height-64":"_chart-bar-height-64_9bkqp_169","chart-bar-height-65":"_chart-bar-height-65_9bkqp_170","chart-bar-height-66":"_chart-bar-height-66_9bkqp_171","chart-bar-height-67":"_chart-bar-height-67_9bkqp_172","chart-bar-height-68":"_chart-bar-height-68_9bkqp_173","chart-bar-height-69":"_chart-bar-height-69_9bkqp_174","chart-bar-height-70":"_chart-bar-height-70_9bkqp_175","chart-bar-height-71":"_chart-bar-height-71_9bkqp_176","chart-bar-height-72":"_chart-bar-height-72_9bkqp_177","chart-bar-height-73":"_chart-bar-height-73_9bkqp_178","chart-bar-height-74":"_chart-bar-height-74_9bkqp_179","chart-bar-height-75":"_chart-bar-height-75_9bkqp_180","chart-bar-height-76":"_chart-bar-height-76_9bkqp_181","chart-bar-height-77":"_chart-bar-height-77_9bkqp_182","chart-bar-height-78":"_chart-bar-height-78_9bkqp_183","chart-bar-height-79":"_chart-bar-height-79_9bkqp_184","chart-bar-height-80":"_chart-bar-height-80_9bkqp_185","chart-bar-height-81":"_chart-bar-height-81_9bkqp_186","chart-bar-height-82":"_chart-bar-height-82_9bkqp_187","chart-bar-height-83":"_chart-bar-height-83_9bkqp_188","chart-bar-height-84":"_chart-bar-height-84_9bkqp_189","chart-bar-height-85":"_chart-bar-height-85_9bkqp_190","chart-bar-height-86":"_chart-bar-height-86_9bkqp_191","chart-bar-height-87":"_chart-bar-height-87_9bkqp_192","chart-bar-height-88":"_chart-bar-height-88_9bkqp_193","chart-bar-height-89":"_chart-bar-height-89_9bkqp_194","chart-bar-height-90":"_chart-bar-height-90_9bkqp_195","chart-bar-height-91":"_chart-bar-height-91_9bkqp_196","chart-bar-height-92":"_chart-bar-height-92_9bkqp_197","chart-bar-height-93":"_chart-bar-height-93_9bkqp_198","chart-bar-height-94":"_chart-bar-height-94_9bkqp_199","chart-bar-height-95":"_chart-bar-height-95_9bkqp_200","chart-bar-height-96":"_chart-bar-height-96_9bkqp_201","chart-bar-height-97":"_chart-bar-height-97_9bkqp_202","chart-bar-height-98":"_chart-bar-height-98_9bkqp_203","chart-bar-height-99":"_chart-bar-height-99_9bkqp_204","chart-bar-height-100":"_chart-bar-height-100_9bkqp_205"},R=({title:r,value:t,icon:i,color:o,subtitle:a})=>{const n={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",red:"bg-red-50 text-red-600 border-red-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",purple:"bg-purple-50 text-purple-600 border-purple-200",gray:"bg-gray-50 text-gray-600 border-gray-200"};return e.jsx("div",{className:`rounded-xl border-2 p-6 ${n[o]}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:t.toLocaleString()}),a&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a})]}),e.jsx("div",{className:"text-2xl opacity-80",children:i})]})})},O=({label:r,value:t,max:i,color:o})=>{const a=i>0?t/i*100:0;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:r}),e.jsxs("span",{children:[t," / ",i," (",a.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o} ${K[`progressBarWidth${Math.round(a)}`]}`})})]})},et=({label:r,value:t,maxValue:i,color:o})=>{const a=i>0?t/i*100:0,n=`chart-bar-height-${Math.round(a)}`;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative w-12 h-32 bg-gray-200 rounded-t-md",children:e.jsx("div",{className:`absolute bottom-0 w-full rounded-t-md transition-all duration-500 ${o} ${K[n]}`})}),e.jsxs("div",{className:"text-xs text-gray-600 mt-2 text-center",children:[e.jsx("div",{className:"font-medium",children:t}),e.jsx("div",{className:"truncate w-12",children:r})]})]})},rt=()=>{var m,u,W,y,g;const{t:r}=w(),[t,i]=h.useState(null),[o,a]=h.useState(!0),[n,l]=h.useState("month");h.useEffect(()=>{b()},[n]);const b=async()=>{console.log("Starting to fetch analytics data for period:",n),a(!0);try{const{api:d}=await z(async()=>{const{api:N}=await import("./index-BN6Cjedc.js").then(c=>c.y);return{api:N}},__vite__mapDeps([0,1]));console.log("API imported successfully");const B=await d.getAnalytics(n);console.log("Analytics data received:",JSON.stringify(B,null,2)),i(B)}catch(d){console.error("Error fetching analytics:",d),i(null)}finally{a(!1)}};if(o)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-8",children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-iom-blue"}),e.jsx("span",{className:"ml-4 text-gray-600",children:r("loadingAnalytics")})]})});if(!t)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-8",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("p",{children:r("errorLoadingAnalytics")}),e.jsx("button",{onClick:b,className:"mt-4 bg-iom-blue text-white px-4 py-2 rounded-md hover:bg-iom-blue/90",children:r("retry")})]})});const j=t.monthlyStats?Math.max(...t.monthlyStats.map(d=>d.applications)):0;return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 sm:mb-0",children:r("analyticsOverview")}),e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["week","month","quarter"].map(d=>e.jsx("button",{onClick:()=>l(d),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n===d?"bg-white text-iom-blue shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:r(d)},d))})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(R,{title:r("totalApplications"),value:t.applications.total,icon:e.jsx(H,{className:"w-8 h-8"}),color:"blue"}),e.jsx(R,{title:r("approvedApplications"),value:t.applications.approved,icon:e.jsx(F,{className:"w-8 h-8"}),color:"green",subtitle:`${(t.applications.approved/t.applications.total*100).toFixed(1)}% ${r("approvalRate")}`}),e.jsx(R,{title:r("pendingReview"),value:t.applications.inReview,icon:e.jsx(V,{className:"w-8 h-8"}),color:"yellow"}),e.jsx(R,{title:r("totalAppointments"),value:t.appointments.total,icon:e.jsx($,{className:"w-8 h-8"}),color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r("applicationStatusBreakdown")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{label:r("approved"),value:t.applications.approved,max:t.applications.total,color:"bg-green-500"}),e.jsx(O,{label:r("inReview"),value:t.applications.inReview,max:t.applications.total,color:"bg-yellow-500"}),e.jsx(O,{label:r("pendingDocuments"),value:t.applications.pendingDocuments,max:t.applications.total,color:"bg-orange-500"}),e.jsx(O,{label:r("rejected"),value:t.applications.rejected,max:t.applications.total,color:"bg-red-500"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r("documentStatus")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(T,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:((m=t.documents)==null?void 0:m.verified)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:r("verified")})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(T,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((u=t.documents)==null?void 0:u.uploaded)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:r("uploaded")})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(T,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:((W=t.documents)==null?void 0:W.missing)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:r("missing")})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(T,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:((y=t.documents)==null?void 0:y.rejected)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:r("rejected")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r("monthlyApplications")}),e.jsx("div",{className:"flex justify-center space-x-4 overflow-x-auto pb-4",children:(g=t.monthlyStats)==null?void 0:g.map((d,B)=>e.jsx(et,{label:d.month,value:d.applications,maxValue:j,color:"bg-iom-blue"},B))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r("visaTypeDistribution")}),e.jsx("div",{className:"space-y-4",children:Object.entries(t.visaTypes).map(([d,B])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:r(d)}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`bg-iom-blue h-2 rounded-full transition-all duration-300 visa-bar-width-${Math.round(B/t.applications.total*100)}`})}),e.jsx("span",{className:"text-sm font-bold text-gray-800 w-8",children:B})]},d))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r("processingTimeMetrics")}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-iom-blue",children:t.processingTime.average}),e.jsx("p",{className:"text-sm text-gray-600",children:r("averageDays")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.processingTime.fastest}),e.jsx("p",{className:"text-sm text-gray-600",children:r("fastestDays")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.processingTime.slowest}),e.jsx("p",{className:"text-sm text-gray-600",children:r("slowestDays")})]})]})]})]})},tt=(r,t)=>{const[i,o]=h.useState(r);return h.useEffect(()=>{const a=setTimeout(()=>{o(r)},t);return()=>{clearTimeout(a)}},[r,t]),i},G=({status:r})=>{const{t}=w(),i={[f.APPROVED]:"bg-green-100 text-green-800",[q.VERIFIED]:"bg-green-100 text-green-800",[f.IN_REVIEW]:"bg-yellow-100 text-yellow-800",[f.APPOINTMENT_SCHEDULED]:"bg-blue-100 text-blue-800",[q.UPLOADED]:"bg-blue-100 text-blue-800",[f.REJECTED]:"bg-red-100 text-red-800",[f.PENDING_DOCUMENTS]:"bg-orange-100 text-orange-800",[q.MISSING]:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${i[r]||"bg-gray-100 text-gray-800"}`,children:t(r)})},st=({isOpen:r,onClose:t,onConfirm:i})=>{const{t:o}=w(),[a,n]=h.useState("");h.useEffect(()=>{r||n("")},[r]);const l=()=>{a.trim()&&i(a)};return e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:`bg-white rounded-lg shadow-xl p-6 w-full max-w-md transform transition-all duration-300 ${r?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:o("rejectionReason")}),e.jsx("textarea",{value:a,onChange:b=>n(b.target.value),className:"w-full p-2 border rounded-md min-h-[100px] focus:ring-2 focus:ring-iom-blue",placeholder:o("rejectionReasonPrompt")}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:o("cancel")}),e.jsx("button",{onClick:l,disabled:!a.trim(),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 disabled:bg-gray-400 transition-colors",children:o("confirm")})]})]})})},at=({app:r,onUpdate:t})=>{const{t:i,isLoading:o,updateDocumentStatusAsAdmin:a}=w(),[n,l]=h.useState(!1),[b,j]=h.useState(null),[m,u]=h.useState(null),[W,y]=h.useState(!1),g=c=>{j(c),l(!0)},d=async c=>{b&&(await a(r.id,b,q.REJECTED,c),t()),l(!1),j(null)},B=async c=>{await a(r.id,c,q.VERIFIED),t()},N=c=>{u(c),y(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4 mt-4 rounded-lg",children:[e.jsx(st,{isOpen:n,onClose:()=>l(!1),onConfirm:d}),e.jsx("h4",{className:"font-bold text-iom-blue mb-2",children:i("documentReview")}),e.jsx("ul",{className:"space-y-3",children:r.documents.map(c=>e.jsxs("li",{className:"p-3 bg-white rounded-md shadow-sm border flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex-1 mb-2 sm:mb-0",children:[e.jsx("span",{className:"font-semibold",children:c.type}),": ",e.jsx(G,{status:c.status}),c.fileName&&e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",c.fileName,")"]}),c.status===q.REJECTED&&c.rejectionReason&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.jsxs("b",{children:[i("rejectionNote"),":"]})," ",c.rejectionReason]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c.filePath&&e.jsx("button",{onClick:()=>N(c),className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:i("view")}),c.status===q.UPLOADED&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>B(c.id),disabled:o,className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 disabled:bg-gray-400",children:i("verify")}),e.jsx("button",{onClick:()=>g(c.id),disabled:o,className:"text-xs bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 disabled:bg-gray-400",children:i("reject")})]})]})]},c.id))})]}),m&&e.jsx(ie,{document:m,isOpen:W,onClose:()=>y(!1)})]})},it=({app:r,onUpdate:t})=>{const{t:i,isLoading:o,updateApplicationStatusAsAdmin:a}=w(),[n,l]=h.useState(!1),b=r.documents.every(u=>u.status===q.VERIFIED),j=async()=>{await a(r.id,f.APPROVED),t()},m=async()=>{await a(r.id,f.REJECTED),t()};return e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.user.fullName}),e.jsx("div",{className:"text-sm text-gray-500",children:r.user.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i(r.visaType)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(G,{status:r.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(r.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>l(!n),className:"text-iom-blue hover:text-iom-blue/80",children:i(n?"cancel":"reviewApplication")})})]}),n&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-0",children:e.jsxs("div",{className:"p-4 bg-iom-blue/5",children:[e.jsx(at,{app:r,onUpdate:t}),e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsx("h4",{className:"font-bold text-iom-blue mb-2",children:i("manageApplication")}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:j,disabled:!b||o,className:"bg-brazil-green text-white px-4 py-2 rounded-md hover:bg-brazil-green/90 disabled:bg-gray-400 disabled:cursor-not-allowed",children:i("approveApplication")}),e.jsx("button",{onClick:m,disabled:o,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:bg-gray-400",children:i("rejectApplication")})]}),!b&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"All documents must be 'Verified' before approving an application."})]})]})})})]})},ct=()=>{const{t:r,user:t,isAuthenticated:i,isLoading:o,fetchAllApplications:a}=w(),[n,l]=h.useState([]),[b,j]=h.useState(""),[m,u]=h.useState(""),[W,y]=h.useState(""),[g,d]=h.useState("applications"),[B,N]=h.useState(!1),c=ee(),C=tt(b,500),A=h.useMemo(()=>({search:C,status:m,visaType:W}),[C,m,W]),D=h.useCallback(async()=>{const s=await a(A);s&&l(s)},[a,A]);if(h.useEffect(()=>{if(!o&&(!i||(t==null?void 0:t.role)!==U.ADMIN)){c(re.HOME);return}(t==null?void 0:t.role)===U.ADMIN&&D()},[o,i,t,c,D]),o&&!n.length)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("p",{children:r("loading")})});const I=Object.values(f).filter(s=>s!==f.NOT_STARTED),L=Object.values(te);return e.jsx("div",{className:"bg-gray-100 min-h-screen p-4 sm:p-8 animate-fade-in",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-800 mb-8",children:r("adminDashboard")}),e.jsx("div",{className:"bg-white rounded-xl shadow-md mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex",children:[e.jsx("button",{onClick:()=>d("applications"),className:`py-4 px-6 font-medium text-sm border-b-2 ${g==="applications"?"border-iom-blue text-iom-blue":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r("allApplications")}),e.jsx("button",{onClick:()=>d("appointments"),className:`py-4 px-6 font-medium text-sm border-b-2 ${g==="appointments"?"border-iom-blue text-iom-blue":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r("appointmentManagement")}),e.jsx("button",{onClick:()=>d("analytics"),className:`py-4 px-6 font-medium text-sm border-b-2 ${g==="analytics"?"border-iom-blue text-iom-blue":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r("analyticsOverview")})]})})}),g==="applications"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2 sm:mb-0",children:r("applicationManagement")}),e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center px-4 py-2 bg-iom-blue text-white rounded-md hover:bg-iom-blue/90 transition-colors",title:r("exportAdminReport"),children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),r("exportReport")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:r("applicantName")+" / "+r("applicantEmail"),value:b,onChange:s=>j(s.target.value),className:"p-2 border rounded-md focus:ring-2 focus:ring-iom-blue"}),e.jsxs("select",{value:m,onChange:s=>u(s.target.value),className:"p-2 border rounded-md focus:ring-2 focus:ring-iom-blue","aria-label":"Status filter",title:"Status filter",children:[e.jsx("option",{value:"",children:"All Statuses"}),I.map(s=>e.jsx("option",{value:s,children:r(s)},s))]}),e.jsxs("select",{value:W,onChange:s=>y(s.target.value),className:"p-2 border rounded-md focus:ring-2 focus:ring-iom-blue","aria-label":"Visa type filter",title:"Visa type filter",children:[e.jsx("option",{value:"",children:"All Visa Types"}),L.map(s=>e.jsx("option",{value:s,children:r(s)},s))]})]})]}),e.jsxs("div",{className:"shadow overflow-x-auto border-b border-gray-200 sm:rounded-lg",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("applicantName")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("visaType")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("applicationStatus")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("createdAt")}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:r("reviewApplication")})})]})}),n.map(s=>e.jsx(it,{app:s,onUpdate:D},s.id))]}),n.length===0&&!o&&e.jsx("div",{className:"text-center py-10 bg-white",children:e.jsx("p",{className:"text-gray-500",children:r("noApplications")})})]})]}),g==="appointments"&&e.jsx(he,{}),g==="analytics"&&e.jsx(rt,{}),B&&e.jsx(ae,{isOpen:B,onClose:()=>N(!1),applications:n,exportType:"admin-report"})]})})};export{ct as default};
